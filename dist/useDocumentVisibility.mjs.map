{"version":3,"file":"useDocumentVisibility.mjs","sources":["../src/useDocumentVisibility.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport default function useDocumentVisibility() {\r\n    const [count, setCount] = useState(0);\r\n    const [visible, setvisible] = useState(true);\r\n\r\n    const checkVisible = useCallback(() => {\r\n        if (document.visibilityState === 'visible') {\r\n            setvisible(true);\r\n\r\n        }\r\n        else {\r\n            setvisible(false);\r\n            setCount(count => count + 1);\r\n        }\r\n    }, []);\r\n\r\n    const onVisibilityChange = (callback) => {\r\n        callback(visible);\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"visibilitychange\", checkVisible);\r\n\r\n        return () => {\r\n            document.removeEventListener('visibilitychange', checkVisible);\r\n        };\r\n    }, [checkVisible]);\r\n\r\n    return { count, visible, onVisibilityChange };\r\n};"],"names":["useDocumentVisibility","useState","count","setCount","visible","setvisible","checkVisible","useCallback","document","visibilityState","onVisibilityChange","callback","useEffect","addEventListener","removeEventListener"],"mappings":";;AAEe,SAASA,qBAAT,GAAiC;EAC5C,IAA0BC,SAAAA,GAAAA,QAAQ,CAAC,CAAD,CAAlC;AAAA,MAAOC,KAAP,GAAA,SAAA,CAAA,CAAA,CAAA;AAAA,MAAcC,QAAd,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA;;EACA,IAA8BF,UAAAA,GAAAA,QAAQ,CAAC,IAAD,CAAtC;AAAA,MAAOG,OAAP,GAAA,UAAA,CAAA,CAAA,CAAA;AAAA,MAAgBC,UAAhB,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;AAEA,EAAA,IAAMC,YAAY,GAAGC,WAAW,CAAC,YAAM;AACnC,IAAA,IAAIC,QAAQ,CAACC,eAAT,KAA6B,SAAjC,EAA4C;MACxCJ,UAAU,CAAC,IAAD,CAAV,CAAA;AAEH,KAHD,MAIK;MACDA,UAAU,CAAC,KAAD,CAAV,CAAA;MACAF,QAAQ,CAAC,UAAAD,KAAK,EAAA;QAAA,OAAIA,KAAK,GAAG,CAAZ,CAAA;AAAA,OAAN,CAAR,CAAA;AACH,KAAA;GAR2B,EAS7B,EAT6B,CAAhC,CAAA;;AAWA,EAAA,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;IACrCA,QAAQ,CAACP,OAAD,CAAR,CAAA;GADJ,CAAA;;AAIAQ,EAAAA,SAAS,CAAC,YAAM;AACZJ,IAAAA,QAAQ,CAACK,gBAAT,CAA0B,kBAA1B,EAA8CP,YAA9C,CAAA,CAAA;AAEA,IAAA,OAAO,YAAM;AACTE,MAAAA,QAAQ,CAACM,mBAAT,CAA6B,kBAA7B,EAAiDR,YAAjD,CAAA,CAAA;KADJ,CAAA;AAGH,GANQ,EAMN,CAACA,YAAD,CANM,CAAT,CAAA;EAQA,OAAO;AAAEJ,IAAAA,KAAK,EAALA,KAAF;AAASE,IAAAA,OAAO,EAAPA,OAAT;AAAkBM,IAAAA,kBAAkB,EAAlBA,kBAAAA;GAAzB,CAAA;AACH;;;;"}