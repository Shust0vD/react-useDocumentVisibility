{"version":3,"file":"useDocumentVisibility.modern.mjs","sources":["../src/useDocumentVisibility.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport default function useDocumentVisibility() {\r\n    const [count, setCount] = useState(0);\r\n    const [visible, setvisible] = useState(true);\r\n\r\n    const checkVisible = useCallback(() => {\r\n        if (document.visibilityState === 'visible') {\r\n            setvisible(true);\r\n\r\n        }\r\n        else {\r\n            setvisible(false);\r\n            setCount(count => count + 1);\r\n        }\r\n    }, []);\r\n\r\n    const onVisibilityChange = (callback) => {\r\n        callback(visible);\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"visibilitychange\", checkVisible);\r\n\r\n        return () => {\r\n            document.removeEventListener('visibilitychange', checkVisible);\r\n        };\r\n    }, [checkVisible]);\r\n\r\n    return { count, visible, onVisibilityChange };\r\n};"],"names":["useDocumentVisibility","count","setCount","useState","visible","setvisible","checkVisible","useCallback","document","visibilityState","onVisibilityChange","callback","useEffect","addEventListener","removeEventListener"],"mappings":";;AAEe,SAASA,qBAAT,GAAiC;EAC5C,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBC,QAAQ,CAAC,CAAD,CAAlC,CAAA;EACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBF,QAAQ,CAAC,IAAD,CAAtC,CAAA;AAEA,EAAA,MAAMG,YAAY,GAAGC,WAAW,CAAC,MAAM;AACnC,IAAA,IAAIC,QAAQ,CAACC,eAAT,KAA6B,SAAjC,EAA4C;MACxCJ,UAAU,CAAC,IAAD,CAAV,CAAA;AAEH,KAHD,MAIK;MACDA,UAAU,CAAC,KAAD,CAAV,CAAA;AACAH,MAAAA,QAAQ,CAACD,KAAK,IAAIA,KAAK,GAAG,CAAlB,CAAR,CAAA;AACH,KAAA;GAR2B,EAS7B,EAT6B,CAAhC,CAAA;;EAWA,MAAMS,kBAAkB,GAAIC,QAAD,IAAc;IACrCA,QAAQ,CAACP,OAAD,CAAR,CAAA;GADJ,CAAA;;AAIAQ,EAAAA,SAAS,CAAC,MAAM;AACZJ,IAAAA,QAAQ,CAACK,gBAAT,CAA0B,kBAA1B,EAA8CP,YAA9C,CAAA,CAAA;AAEA,IAAA,OAAO,MAAM;AACTE,MAAAA,QAAQ,CAACM,mBAAT,CAA6B,kBAA7B,EAAiDR,YAAjD,CAAA,CAAA;KADJ,CAAA;AAGH,GANQ,EAMN,CAACA,YAAD,CANM,CAAT,CAAA;EAQA,OAAO;IAAEL,KAAF;IAASG,OAAT;AAAkBM,IAAAA,kBAAAA;GAAzB,CAAA;AACH;;;;"}