{"version":3,"file":"useDocumentVisibility.umd.js","sources":["../src/useDocumentVisibility.js"],"sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\r\n\r\nexport default function useDocumentVisibility() {\r\n    const [count, setCount] = useState(0);\r\n    const [visible, setvisible] = useState(true);\r\n\r\n    const checkVisible = useCallback(() => {\r\n        if (document.visibilityState === 'visible') {\r\n            setvisible(true);\r\n\r\n        }\r\n        else {\r\n            setvisible(false);\r\n            setCount(count => count + 1);\r\n        }\r\n    }, []);\r\n\r\n    const onVisibilityChange = (callback) => {\r\n        callback(visible);\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"visibilitychange\", checkVisible);\r\n\r\n        return () => {\r\n            document.removeEventListener('visibilitychange', checkVisible);\r\n        };\r\n    }, [checkVisible]);\r\n\r\n    return { count, visible, onVisibilityChange };\r\n};"],"names":["useDocumentVisibility","useState","count","setCount","visible","setvisible","checkVisible","useCallback","document","visibilityState","onVisibilityChange","callback","useEffect","addEventListener","removeEventListener"],"mappings":";;;;;;IAEe,SAASA,qBAAT,GAAiC;MAC5C,IAA0BC,SAAAA,GAAAA,cAAQ,CAAC,CAAD,CAAlC;IAAA,MAAOC,KAAP,GAAA,SAAA,CAAA,CAAA,CAAA;IAAA,MAAcC,QAAd,GAAA,SAAA,CAAA,CAAA,CAAA,CAAA;;MACA,IAA8BF,UAAAA,GAAAA,cAAQ,CAAC,IAAD,CAAtC;IAAA,MAAOG,OAAP,GAAA,UAAA,CAAA,CAAA,CAAA;IAAA,MAAgBC,UAAhB,GAAA,UAAA,CAAA,CAAA,CAAA,CAAA;;IAEA,EAAA,IAAMC,YAAY,GAAGC,iBAAW,CAAC,YAAM;IACnC,IAAA,IAAIC,QAAQ,CAACC,eAAT,KAA6B,SAAjC,EAA4C;UACxCJ,UAAU,CAAC,IAAD,CAAV,CAAA;IAEH,KAHD,MAIK;UACDA,UAAU,CAAC,KAAD,CAAV,CAAA;UACAF,QAAQ,CAAC,UAAAD,KAAK,EAAA;YAAA,OAAIA,KAAK,GAAG,CAAZ,CAAA;IAAA,OAAN,CAAR,CAAA;IACH,KAAA;OAR2B,EAS7B,EAT6B,CAAhC,CAAA;;IAWA,EAAA,IAAMQ,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;QACrCA,QAAQ,CAACP,OAAD,CAAR,CAAA;OADJ,CAAA;;IAIAQ,EAAAA,eAAS,CAAC,YAAM;IACZJ,IAAAA,QAAQ,CAACK,gBAAT,CAA0B,kBAA1B,EAA8CP,YAA9C,CAAA,CAAA;IAEA,IAAA,OAAO,YAAM;IACTE,MAAAA,QAAQ,CAACM,mBAAT,CAA6B,kBAA7B,EAAiDR,YAAjD,CAAA,CAAA;SADJ,CAAA;IAGH,GANQ,EAMN,CAACA,YAAD,CANM,CAAT,CAAA;MAQA,OAAO;IAAEJ,IAAAA,KAAK,EAALA,KAAF;IAASE,IAAAA,OAAO,EAAPA,OAAT;IAAkBM,IAAAA,kBAAkB,EAAlBA,kBAAAA;OAAzB,CAAA;IACH;;;;;;;;"}